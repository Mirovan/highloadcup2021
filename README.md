# highloadcup2021
Hihgload cup 2021 from mail.ru


Условия
Уже давно мы не слышали авантюрных историй о кладоискателях... А все потому что время неожиданных приключений, к сожалению, закончилось!

Все теперь под отчетом, банки контролируют все раскопки, в мире царит порядок и равенство возможностей.

Но даже здесь есть место риску и возможности быстро обогатиться! Главное - выбрать правильную стратегию и быть готовым адаптироваться к изменениям.

Представьте, вы путешествуете по миру с другими кладоискателями. Приезжая на раскопки каждый раз у вас одна цель - собрать как можно больше золота за отведенное время и не дать конкурентам ни шанса на победу.

Подробная информация по задаче
Вам будет дано трехмерное игровое поле размером 3500х3500 клеток, в котором закопаны клады на глубине от 1 до 10 этажей.

Основная задача — добыть как можно больше монет за отведенное время. В рамках beta-тестирования на поиск вам отводится 10 минут.

Для поиска вам будут дано API с POST запросом /explore, позволяющие исследовать поле в координатах X, Y. По этим координатам может быть закопан клад, который содержит какое-то количество монет. Чтобы выкопать клад, необходимо воспользоваться API запросом POST /dig, которая принимает в себя координаты и id лицензии. Также это API используется для того, чтобы прокопать глубину на 1 этаж вниз.

Получить лицензию можно через API запросом POST /licenses. Лицензий существует 2 вида: платные и бесплатные. Бесплатная лицензия позволяет выкопать клад 3 раза, платная 5 раз. Чтобы получить бесплатную лицензию необходимо передать в API запросом POST /licenses пустой запрос, а для платной лицензии нужно передать еще список монет. Для уточнения баланса существует API запросом GET /balance. Одновременно у вас может быть в наличии 10 активных лицензий.

Обменять найденные клады можно используя API POST /cash.

В результате раскопки кладов вы получаете монеты, которые отражаются в вашем балансе Score по результатам работы клиента. Также Score тратится на покупку платных лицензий.

Чем глубже раскопки, тем больше нужно времени на один вызов API.  При этом есть шанс, что количество золота в кладе будет больше. При этом максимальная глубина не гарантирует большую стоимость сокровища по сравнению с другими этажами.

Полное описание API доступно в файле swagger.yaml в репозитории чемпионата.

Техническая информация
Для запуска сервис должен быть обернут в Docker-контейнер.

Передаваемые environments: 

ADDRESS: default
Port: 8000;
Schema: http
Пример обработки в Python:

address = os.getenv('ADDRESS')
base_url = URL.build(scheme='http', host=address, port=8000)
Вашему решению даётся 10 минут на выполнение, в день вы можете загружать не более 10 решений.

Характеристики для вашего решения:

Kernels: 4
RAM: 2048 MB
Swap: 2048 MB
Timeout: 900 Sec
Характеристики сервера:

Kernels: 2
RAM: 2048 MB
SWAP: 2048 MB
Timeout: 900 Sec
Важно отметить, что бета-раунде игровой мир генерируется с одним и тем же SEED, но в Battle-раунде данное правило может быть изменено.

Репозиторий Github с примером решения:

$ git clone https://github.com/All-Cups/highloadcup.git
или
$ gh repo clone All-Cups/highloadcup
